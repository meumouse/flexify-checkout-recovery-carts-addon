!function(e){"use strict";const i=fcrc_checkout_params||{};var l={setCookie:function(e,i,l){let t="";if(l){let e=new Date;e.setTime(e.getTime()+24*l*60*60*1e3),t="; expires="+e.toUTCString()}document.cookie=e+"="+encodeURIComponent(i)+t+"; path=/"},getCookie:function(e){let i=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.\$?*|{}\(\)\[\]\/+^])/g,"\\$1")+"=([^;]*)"));return i?decodeURIComponent(i[1]):void 0},bindEvents:function(){let i=this,l=null;e("#billing_first_name, #billing_last_name, #billing_phone, #billing_email").on("input",(function(){clearTimeout(l),l=setTimeout((function(){i.collectLeadData()}),2e3)}))},fillCheckoutFields:function(){let i=l.getCookie("fcrc_first_name"),t=l.getCookie("fcrc_last_name"),n=l.getCookie("fcrc_phone"),a=l.getCookie("fcrc_email");""===e("#billing_first_name").val()&&e("#billing_first_name").val(i),""===e("#billing_last_name").val()&&e("#billing_last_name").val(t),""===e("#billing_phone").val()&&e("#billing_phone").val(n),""===e("#billing_email").val()&&e("#billing_email").val(a)},collectLeadData:function(){let t=e("#billing_first_name").val(),n=e("#billing_last_name").val(),a=e("#billing_phone").val(),o=e("#billing_email").val();if(!t||!a||!o)return;let c=l.getCookie("fcrc_lead_email");c&&c===o||(l.setCookie("fcrc_lead_email",o,7),e.ajax({url:i.ajax_url,type:"POST",dataType:"json",data:{action:"fcrc_save_checkout_lead",first_name:t,last_name:n,phone:a,email:o,cart_id:l.getCookie("fcrc_cart_id"),ip_data:JSON.stringify(Events.getCookie("fcrc_location"))},success:function(e){e.success?console.log("Lead data saved successfully"):console.log("Failed to save lead:",e.data)},error:function(e,i,l){console.log("AJAX error:",l)}}))},init:function(){this.bindEvents(),this.fillCheckoutFields()}};jQuery(document).ready((function(e){l.init()}))}(jQuery);