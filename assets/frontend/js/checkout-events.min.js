!function(e){"use strict";const t=fcrc_checkout_params,n={init:function(){this.bindEvents()},setCookie:function(e,t,n){let i="";if(n){let e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3),i="; expires="+e.toUTCString()}document.cookie=e+"="+encodeURIComponent(t)+i+"; path=/"},getCookie:function(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.\$?*|{}\(\)\[\]\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},bindEvents:function(){let t=this,n=null;e("#billing_first_name, #billing_last_name, #billing_phone, #billing_email").on("input",(function(){clearTimeout(n),n=setTimeout((function(){t.collectLeadData()}),2e3)}))},collectLeadData:function(){let i=e("#billing_first_name").val(),o=e("#billing_last_name").val(),l=e("#billing_phone").val(),a=e("#billing_email").val();if(!i||!l||!a)return;let c=n.getCookie("fcrc_lead_email");c&&c===a||(n.setCookie("fcrc_lead_email",a,7),e.ajax({url:t.ajax_url,type:"POST",dataType:"json",data:{action:"fcrc_save_checkout_lead",first_name:i,last_name:o,phone:l,email:a,cart_id:n.getCookie("fcrc_cart_id")},success:function(e){e.success?console.log("Lead data saved successfully"):console.log("Failed to save lead:",e.data)},error:function(e,t,n){console.log("AJAX error:",n)}}))}};jQuery(document).ready((function(e){n.init()}))}(jQuery);